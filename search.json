[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Using Quarto and RStudio to build Data fellowship module materials",
    "section": "",
    "text": "Starting Point\nThese resources are intended to help us build and maintain materials and modules for the Data Fellowship training materials. These can also serve as a useful resource when wanting to use Quarto and GitHub pages for other aspects of our work. Therefore these resources will continue to grow and evolve with us - send suggestions for content or improvements through the issues tab on the GitHub Repo.",
    "crumbs": [
      "Starting Point"
    ]
  },
  {
    "objectID": "index.html#system-requirements",
    "href": "index.html#system-requirements",
    "title": "Using Quarto and RStudio to build Data fellowship module materials",
    "section": "‚ö† System Requirements ‚ö†",
    "text": "‚ö† System Requirements ‚ö†\nBefore you can start using Quarto to build out webpages or reports you need to ensure the following are installed on your computer\n\nR - https://www.r-project.org/\nRstudio - https://posit.co/download/rstudio-desktop/\nQuarto - https://quarto.org/docs/download/\nGit - https://git-scm.com/downloads\n\nEnsure you have a GitHub profile and are a member of PATH-Global-Health organization\nIf you haven‚Äôt installe these packages before ensure the usethis gh renv and quarto packages are installed by typing this in the RStudio console:\ninstall.packages(c(\"usethis\", \"gh\", \"renv\", \"quarto\", \"gitcreds\"))\n\nConfigure Git with RStudio\nAfter installing Git and setting up a GitHub account, the next step is to configure Git in RStudio. If you‚Äôve linked your GitHub account to R already then skip ahead to What stage are you building from?\n\nOpen RStudio.\nConfigure Git in RStudio:\n\nGo to Tools &gt; Global Options.\nIn the left-hand sidebar, click Git/SVN.\nMake sure the path to the Git executable is correct (this should automatically detect where Git was installed). For Windows, it might look something like C:/Program Files/Git/bin/git.exe.\nClick Ok\n\nWe want Git to know who we are so it can associate changes with you. Enter the following code in your console and replace the user name and email to those linked to your github account\n\nusethis::use_git_config(user.name=\"Jane Doe\", user.email=\"jane@example.org\")",
    "crumbs": [
      "Starting Point"
    ]
  },
  {
    "objectID": "index.html#linking-to-github",
    "href": "index.html#linking-to-github",
    "title": "Using Quarto and RStudio to build Data fellowship module materials",
    "section": "Linking to GitHub",
    "text": "Linking to GitHub\nWhen its time to send our files to GitHub, we need GitHub to know who we are and that we have permission to write to our repositories. We can establish this authorisation through either a personal access token or a SSH key.\nWe can generate a PAT through GitHub directly through https://github.com/settings/tokens and click ‚ÄúGenerate token‚Äù. Look over the scopes; I highly recommend selecting repo, user, and workflow. Copy the generated PAT to your clipboard. Or leave that browser window open and available for a little while, so you can come back to copy the PAT.\nAnother option is to create this directly in R using:\nusethis::create_github_token()\nRecommended scopes will be pre-selected if you used create_github_token().\nNow in R call, gitcreds::gitcreds_set() to get a prompt where you can paste your PAT:\n&gt; gitcreds::gitcreds_set()\n\n? Enter password or token: ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n-&gt; Adding new credentials...\n-&gt; Removing credentials from cache...\n-&gt; Done.\nYou should be able to work with GitHub now, i.e.¬†push and pull!",
    "crumbs": [
      "Starting Point"
    ]
  },
  {
    "objectID": "index.html#sec-stage",
    "href": "index.html#sec-stage",
    "title": "Using Quarto and RStudio to build Data fellowship module materials",
    "section": "What stage are you building from?",
    "text": "What stage are you building from?\nBefore getting started we need to understand from what point we are building resources from - the following starting points cover the most common starting points we tend to find ourselves in\n\n\n\n\n\n\n\nStarting Point\nDescription\n\n\n\n\nBuilding from scratch\nStart here if you want to learn about setting up a completly new resource and with tips and steps about using GitHub for the first time too\n\n\nBuilding from an existing GitHub Repository\nStart here if you are collaborating on resources and want to add additional materials to an already existing module",
    "crumbs": [
      "Starting Point"
    ]
  },
  {
    "objectID": "building-from-scratch.html",
    "href": "building-from-scratch.html",
    "title": "1¬† Building From Scratch",
    "section": "",
    "text": "1.1 Step 1: Set up new Quarto Book Project in RStudio\nWe suggest using the Quarto Book format for hosting training materials - there are several other Quarto output styles that you can work with but this what has worked well for this style of content delivery.\nRStudio will open up your new project. The Quarto Book project structure will include:",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-scratch.html#step-1-set-up-new-quarto-book-project-in-rstudio",
    "href": "building-from-scratch.html#step-1-set-up-new-quarto-book-project-in-rstudio",
    "title": "1¬† Building From Scratch",
    "section": "",
    "text": "Open RStudio.\nGo to the menu: File ‚Üí New Project... ‚Üí New Directory ‚Üí Quarto Book.\nName the project and select the location where you want to save the project files on your computer. (I like to use a folder called github and all my repos exist in separate folders but pick what works for you!)\nEnsure the checkbox for Create a Git repository is selected (this initializes Git locally in the project).\nAnd also tick the checkbox for use renv with this project. This will create a local environment for the project and store all your package dependencies in an renv.lock file, this is an important aspect for hosting our site on gh-pages later on.\nClick Create Project.\n\n\n\n_quarto.yml: A configuration file where you can define the book‚Äôs structure, theme, output format, and other settings.\nindex.qmd: The landing page or introduction to the book. This file can serve as the cover page with a description of your project.\nqmd files for chapters: A few example .qmd files will be provided as placeholders for different chapters, which you can edit or replace with your content.\nAn renv folder: This directory contains your project-specific package library, and an renv.lock file will be created to lock down package versions and dependencies, ensuring the project remains reproducible and code can be executed on publishing to our online portal.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-scratch.html#step-2-stage-initial-commit-to-github",
    "href": "building-from-scratch.html#step-2-stage-initial-commit-to-github",
    "title": "1¬† Building From Scratch",
    "section": "1.2 Step 2: Stage initial commit to GitHub",
    "text": "1.2 Step 2: Stage initial commit to GitHub\nBefore linking this project to GitHub, we need to make sure the initial project files are committed to the local Git repository.\n\nHead to the Terminal tab next to the console.\nIn the terminal, check which files are ready to be staged using:\n\n    git status\n\nThis will show the files that have been modified or are new and need to be added to the repository. It will also tell us which branch we are working on in brackets. If this is the master branch lets change it to be called main.\n\ngit branch -m master main \n\nTo add all files to the staging area (the files you want to include in your commit - here this will just be our default Quarto Book Project files which is okay, run:\n\ngit add . \n\nThe . adds all the files in the current directory\nAfter staging the files, you‚Äôll need to commit them. The commit message should describe what changes or additions you‚Äôre committing.To commit the changes, use: The -m flag allows you to add a message in quotes (\" \") describing the commit.\n\ngit commit -m \"Initial commit for Quarto website\"",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-scratch.html#step-3-push-the-local-project-to-github-using-usethisuse_github",
    "href": "building-from-scratch.html#step-3-push-the-local-project-to-github-using-usethisuse_github",
    "title": "1¬† Building From Scratch",
    "section": "1.3 Step 3 Push the local project to GitHub using usethis::use_github()",
    "text": "1.3 Step 3 Push the local project to GitHub using usethis::use_github()\nWe now want to link our local repository to GitHub and specially we want it to be part of the PATH-Global-Health GitHub organisation. We can use the following code to do this, run this in your console:\nusethis::use_github(\norganisation = \"PATH-Global-Health\", \nvisibility = \"public\"\n) \nThis command will:\n\nCreate a new GitHub repository.\nLink your local project to this repository.\nPush the project files to GitHub.\n\nThis should then open up the repository automatically in you browser.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-scratch.html#step-4-setting-up-gh-pages",
    "href": "building-from-scratch.html#step-4-setting-up-gh-pages",
    "title": "1¬† Building From Scratch",
    "section": "1.4 Step 4: Setting up gh-pages",
    "text": "1.4 Step 4: Setting up gh-pages\nOnce our repository is on GitHub, we can configure the GitHub Pages site - which is where our module resources will be hosted. Use the usethis::use_github_pages() function to set the publishing branch for GitHub Pages.\nTo publish from the gh-pages branch, run:\n\nusethis::use_github_pages(branch = \"gh-pages\")\nIf we head to our GitHub repository online we want to add some details to the repo page:\nHead back to the &lt;&gt; Code tab and in the About section on the top right open the settings wheel ‚öôÔ∏è - Under Website check the box next to: [x] ‚ÄúUse your GitHub Pages website‚Äù as shown in the image below.\n\nIn addition we can add a short description in this section as in the above image e.g.¬†‚ÄúMACEPA Data Fellows materials for the [insert module title]‚Äù.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-scratch.html#step-5-automate-deployment-with-github-actions",
    "href": "building-from-scratch.html#step-5-automate-deployment-with-github-actions",
    "title": "1¬† Building From Scratch",
    "section": "1.5 Step 5: Automate Deployment with GitHub Actions",
    "text": "1.5 Step 5: Automate Deployment with GitHub Actions\nThis is something I‚Äôve found works best for me and my workstyle when creating these modules. Instead of ever rendering my work locally and then publishing this to GitHub I include a GitHub Action command so that when I commit and push changes to the repository GitHub will automatically render the new outputs to the gh-pages site.\nManually building and deploying our project every time we make a change can be time-consuming and prone to error. So by configuring GitHub Actions, we can automate the entire publishing process. Whenever we push changes to the repository (e.g., updated content, code adjustments), GitHub Actions will automatically trigger the workflow to build and deploy our site. Which saves us time and reduces manual effort. This also helps ensure that everyone is working on the most recent version of the materials, with automatic deployment occurring in the background.\n\n1.5.1 Set up\nMore detials on setting up GitHub actions can be found here: https://quarto.org/docs/publishing/github-pages.html.\n\nIn your Quarto project directory, create a folder called .github/worflows\nInside .github/workflows/, create a file called quarto-publish.yml - You do this from within RStudio by heading to the files pane and into the workflows folder ‚Üí new blank file ‚Üí Text file and this opens up in R studio and then save this as quarto-publish.yml\nAdd the following content to the quarto-publish.yml\n\n\non:\n  workflow_dispatch:\n  push:\n    branches: main\n\nname: Quarto Publish\n\njobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n    steps:\n      - name: Check out repository\n        uses: actions/checkout@v4\n\n      - name: Set up Quarto\n        uses: quarto-dev/quarto-actions/setup@v2\n\n      - name: Install R\n        uses: r-lib/actions/setup-r@v2\n        with:\n          r-version: '4.2.0'\n\n      - name: Install R Dependencies\n        uses: r-lib/actions/setup-renv@v2\n        with:\n          cache-version: 1\n\n      - name: Install TinyTeX\n        run: |\n          Rscript -e 'tinytex::install_tinytex(force = TRUE)'\n          echo \"PATH=$HOME/.TinyTeX/bin/x86_64-linux:$PATH\" &gt;&gt; $GITHUB_ENV\n\n      - name: Ensure TinyTeX Path\n        run: echo \"$HOME/.TinyTeX/bin/x86_64-linux\" &gt;&gt; $GITHUB_PATH\n\n      - name: Render and Publish\n        uses: quarto-dev/quarto-actions/publish@v2\n        with:\n          target: gh-pages\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\ncall renv::snapshot(), snapshot() updates the lockfile with metadata about the currently-used packages in the project library.\n\nThis quarto-publish.yml I have worked on standardising across the projects I‚Äôve developed for the Data Fellows so far - should you have any issues please reach out to Hayley to help troubleshoot!\nOther options for publishing content can be found here: https://quarto.org/docs/publishing/",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-scratch.html#step-6-push-updates-to-github",
    "href": "building-from-scratch.html#step-6-push-updates-to-github",
    "title": "1¬† Building From Scratch",
    "section": "1.6 Step 6 Push updates to GitHub",
    "text": "1.6 Step 6 Push updates to GitHub\nWe can now push the all of the following changes to GitHub and test if the publishing action has worked - don‚Äôt worry that we haven‚Äôt changed any content yet we will get there!\nSwitch to the Terminal pane and run the following:\ngit add . \ngit commit -m \"deploying and testing github actions and publishing\"  \ngit push",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-scratch.html#step-7-check-build-and-status",
    "href": "building-from-scratch.html#step-7-check-build-and-status",
    "title": "1¬† Building From Scratch",
    "section": "1.7 Step 7 Check build and status",
    "text": "1.7 Step 7 Check build and status\nHead to the repo and go to the ‚ñ∂Ô∏è Actions Tab - we‚Äôre hoping to see something like this:\n\nWhich shows us out Build action was completed, worked correctly and the website page should be rendered! üôÇüéâ\nIf you head back to the &lt;&gt;code tab and click the link we activated in the About section this should open up our github pages site and will hopefully currently be populated with Quartos book template!\nIf the build action failed we will see somthing like this:\n\nIf we click into this GitHub will give us a good indication of what exactly failed:\n\nThe error here is caused by incorrect indentation in the YAML file. YAML is strict about indentation, and in this instance the curhttps://quarto.org/docs/guide/rent _quarto.yml file, the chapters: key was incorrectly indented. We can correct this, commit and push the changes and our site was deployed correctly!\nOften build errors are informative and can be fixed easily enough - if you‚Äôre struggling reach out to Hayley and we can always trouble shoot together!",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-scratch.html#step-8-adding-content",
    "href": "building-from-scratch.html#step-8-adding-content",
    "title": "1¬† Building From Scratch",
    "section": "1.8 Step 8 Adding content",
    "text": "1.8 Step 8 Adding content\nNow we have all the set up out the way we can start adding our content and updating the themeing!\nThis step will be very context depenent on the type of materials we want to add to our modules so I have outlined some common steps across materials that have been built so far and we can always add more as we go.\nThe Quarto Guide is going to be super useful https://quarto.org/docs/guide/ especially if you‚Äôre new to working in Markdown - I won‚Äôt replicate the resources here and recommend using the Quarto guide as a reference point when writing in Quarto.\nThere is always the option in Quarto to use the visual editor - this simplifies the process of writing and formatting content in markdown formats and allows users to focus on writing without needing to remember markdown syntax, making it easier for beginners and those unfamiliar with code-based formatting. The Visual Editor provides an interface similar to popular word processors like Microsoft Word or Google Docs.\nThe Visual Editor includes toolbars with buttons for common formatting options such as:\n\nBold and italic text\nCreating headings and subheadings\nAdding bullet points or numbered lists\nInserting links, images, and tables\nAdding callouts for notes, warnings, or tips\nYou can still insert and edit code chunks directly in the Visual Editor. These code chunks are executed as usual, and their outputs (tables, figures, etc.) are displayed inline, making it easier to integrate code into your documents.\n\nTo use the Visual Editor in RStudio or other supported IDEs:\n\nOpen any Quarto (.qmd) or markdown file in your project.\nClick the ‚ÄúVisual‚Äù button in the top right corner of the editor pane to toggle between the standard markdown editor and the Visual Editor.\n\n\n1.8.1 Understanding the _quarto.yml file\nThe _quarto.yml file is a configuration file that controls the structure and appearance of your Quarto project, such as the website‚Äôs title, menu, and theme.\nFor a Quarto book, the _quarto.yml file specifies the structure, appearance, and behavior of the book. Below is an example of what the structure might look like and what you will see when you open this initially in your project.\n\nproject:\n  type: book\n\nbook:\n  title: \"My Quarto Book\"\n  author: \"Author Name\"\n  chapters:\n    - index.qmd\n    - introduction.qmd\n    - chapter1.qmd\n    - chapter2.qmd\n\nformat:\n  html:\n    theme: cosmo\n    toc: true\n    number-sections: true\n    css: styles.css\nWe want to start by modifying the title and author fields under book to what is relevant for the module (we can just delete the author line as it‚Äôs not needed here)\nWe can also add a subtitle that‚Äôs nice to include in all our topics like this:\nbook:\n  title: Foundational Malaria Knowledge\n  subtitle: MACEPA Data Fellowship - Training Materials\nThe chapters section defines the order of the chapters in your book. It links to the .qmd files that will become the different sections of the book:\nbook:\n    chapters:\n        - index.qmd           # Main page or introduction\n        - introduction.qmd    # First chapter\n        - chapter1.qmd        # Subsequent chapters\n        - chapter2.qmd\nYou can add or remove chapter files as needed. Just make sure each file you list here exists in the project.\nFor some of our modules we have several topics within a module and sub topics within them so we can use the part as well as chapters to achieve something like this:\n\nTo do so you can set the _quarto.yml to something this:\n  chapters:\n  - index.qmd\n  - part: topic1-intro.qmd\n        chapters:\n        - topic1a-history-malaria.qmd\n        - topic1b-global-impact.qmd\n        - topic1c-endemicity.qmd\n  - part: topic2-intro.qmd\n        chapters: \n        - topic2a-plasmodium-spp.qmd\n        - topic2b-lifecycle.qmd\n        - topic2c-immunity.qmd \n   - part: topic3-intro.qmd\n        chapters: \n        - topic3a-anopheles-trans.qmd\n        - topic3b-environment.qmd\n        - topic3c-human-behaviour.qmd\n        \nIn each of these instances the title that is in the .qmd file becomes the heading that is shown on the final website as shown in the image above.\nOnce you start adding `.qmd` files with module content make sure to replace the defualt files and include these in the `_quarto.yml` to ensure the modules are displayed on the site. Often I start adding content to the templates and renaming the files before creating new `.qmd` files \n\n\n1.8.2 Adding custom styling\nWe‚Äôve already created custom PATH theming and I‚Äôve saved all the necessary files in the data-fellows box folder under ‚Äòquarto-theming‚Äô Data fellowship program planning ‚Üí Technical Content Organization ‚Üí quarto-theming\nCopy all of these into your root folder and add the following to your _quarto.yml file\nformat:\n  html:\n    theme:\n    - cosmo\n    - custom.scss\n    template-partials: title-block.html\n    css: include/webex.css\n    include-after-body: include/webex.js\n    embed-resources: true \n  pdf:\n    documentclass: scrreprt\neditor: visual\n\n\n1.8.3 Embedding PDFs\nIf you have a slide deck to host on the website we first need to save this as a pdf and ensure it it then saved in the same root directory of our Quarto project.\nYou can use the following syntax to embed the pdfs inside a .qmd file replacing the file name with the associated file name of your file.\n&lt;iframe src=\"file-name.pdf\" width=\"800\" height=\"600\"&gt;\n\n&lt;/iframe&gt; \n\n\n1.8.4 Embedding YouTube Videos\nIf you want to include videos hosted on YouTube an easy was to achieve this is with the following syntax, replacing the link with that to the video of interest:\n\n\n\n1.8.5 Interative Quizzes\nYou can use the webexercises packageto produce quizes and is what I used in the Foundational Epi module\nThe documentation is a good place to start here and the source code in the Foundational Epi Module repository if you want to develop something similar!\n\n\n1.8.6 Publishing content\nOnce you have created the necessary module content in .qmd files, have updated the _quarto.yml file with the correct references for each chapter we can again push out changes to github and check out our newly published site!\nRemeber:\n\ngit add . \ngit commit -m \"commit message\" \ngit push \nAnd it‚Äôs as simple as that!",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-scratch.html#wrapping-it-all-together-maintaining-your-quarto-project",
    "href": "building-from-scratch.html#wrapping-it-all-together-maintaining-your-quarto-project",
    "title": "1¬† Building From Scratch",
    "section": "1.9 Wrapping It All Together: Maintaining Your Quarto Project",
    "text": "1.9 Wrapping It All Together: Maintaining Your Quarto Project\nBy following these steps, you‚Äôve built a robust workflow for creating, managing, and publishing your Quarto Book from scratch. Here are a few final tips to help you maintain and expand your project effectively:\n\nIterating on Content Content updates:\n\nAs your project evolves, you‚Äôll likely need to update chapters or add new ones. Remember, every time you modify a .qmd file or create a new one, ensure that the _quarto.yml file is updated accordingly. Push these changes to GitHub to automatically deploy updates.\nVersion control: Keep track of your content changes by writing clear commit messages. This makes it easy to refer back to previous versions if needed.\n\nTroubleshooting Common Issues:\n\nBuild failures: Sometimes, your GitHub Actions may fail due to misconfigurations or syntax errors (e.g., in the _quarto.yml file). GitHub provides detailed logs for failed builds in the Actions tab, which can help pinpoint the issue.\nRendering issues: If the published site doesn‚Äôt display content as expected, double-check that your .qmd files are properly linked in the _quarto.yml file and that all references (images, links, etc.) are correctly specified.\n\nCollaboration and Feedback Collaborative development:\n\nIf you‚Äôre working with a team on the resources, consider using GitHub‚Äôs collaborative features like Pull Requests to review changes before they‚Äôre merged into the main branch. This can help catch errors early and maintain consistency across the project.\n\nEnsure that your project dependencies (tracked by renv.lock) are up to date by regularly running renv::snapshot() after installing new R packages. This ensures that your environment remains consistent across different systems.",
    "crumbs": [
      "<span class='chapter-number'>1</span>¬† <span class='chapter-title'>Building From Scratch</span>"
    ]
  },
  {
    "objectID": "building-from-existing.html",
    "href": "building-from-existing.html",
    "title": "2¬† Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "<span class='chapter-number'>2</span>¬† <span class='chapter-title'>Summary</span>"
    ]
  }
]